{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"S:\\\\Parking Management System\\\\Parking-Management-System\\\\frontend\\\\react-frontend\\\\src\\\\Views\\\\AdminViews\\\\RemoveVehicle.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { useState } from 'react';\nimport isLoggedin from '../../Utils/LoginCheck';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport axiosInstance from '../../Axios/AxiosInstance';\nimport GoBack from '../../Components/GoBack';\nimport Memberverifier from '../../Components/MemberVerifier';\nimport { green, grey } from '@material-ui/core/colors';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)'\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  }\n});\nexport default function RemoveVehicle(props) {\n  _s();\n\n  const classes = useStyles();\n  const [UID, setUID] = useState(-1);\n  const [VecLst, SetLst] = useState([{\n    Vehicle_ID: \"non\",\n    Vehicle_Model: \"non\"\n  }]);\n  const [success, setsuccess] = useState(false);\n  const [Vsuccess, setVsuccess] = useState(0); //member/getvehiclesdetail/\n  //'member/deregistervehicle/'\n\n  function HandleDeRegVec(Vehicle_ID) {\n    axiosInstance.post('member/deregistervehicle/', {\n      Vehicle_ID: Vehicle_ID,\n      Member_ID: UID\n    }).then(result => {\n      if (result.status === 200) {\n        setsuccess(true);\n      }\n    }).catch(error => {\n      setsuccess(false);\n    });\n  }\n\n  function GetListofVehicles() {\n    axiosInstance.post('member/getvehiclesdetail/', {\n      Member_ID: UID\n    }).then(result => {\n      console.log(result.data.vehicles);\n      setVsuccess(1);\n      let L = result.data;\n      SetLst(L);\n    }).catch(error => {\n      //setVerror(error.response.data)\n      setVsuccess(2);\n    });\n  }\n\n  function DisplayCarItem(CAR) {\n    return /*#__PURE__*/_jsxDEV(Accordion, {\n      children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n        expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 45\n        }, this),\n        \"aria-controls\": \"panel1a-content\",\n        id: \"panel1a-header\",\n        style: {\n          backgroundColor: green[200]\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          children: CAR.Vehicle_ID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n        style: {\n          backgroundColor: green[50]\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          direction: \"row\",\n          justify: \"space-between\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: CAR.Vehicle_Model\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            onClick: () => HandleDeRegVec(CAR.Vehicle_ID),\n            children: \"DeRegister\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n\n  function DisplayListofVehicles() {\n    if (success) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          color: \"success\",\n          children: \"Vehicle removed succesfully\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (Vsuccess === 1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          children: VecLst.map(e => /*#__PURE__*/_jsxDEV(Grid, {\n            children: DisplayCarItem(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this);\n    } else if (Vsuccess === 2) {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"error\",\n        children: \"Unable to get vehicle data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  function VehicleDeReg() {\n    if (UID !== -1) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: 1000,\n            margin: 5,\n            backgroundColor: green[300]\n          },\n          className: classes.root,\n          variant: \"outlined\",\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              align: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                style: {\n                  width: 800,\n                  margin: 10,\n                  backgroundColor: green[800]\n                },\n                variant: \"contained\",\n                onClick: () => {\n                  GetListofVehicles();\n                },\n                children: \"GET LIST OF CARS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 34\n              }, this), DisplayListofVehicles()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this);\n    } else {\n      return null;\n    }\n  }\n\n  if (!(isLoggedin() === \"PA\")) {\n    console.log(isLoggedin());\n    window.location.href = \"/\";\n  } else {\n    console.log(isLoggedin());\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(GoBack, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      component: \"main\",\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        spacing: 3,\n        m: 10,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            align: \"center\",\n            variant: \"h2\",\n            color: \"primary\",\n            style: {\n              width: 1000,\n              margin: 0\n            },\n            children: \"De-Register Vehicle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          children: /*#__PURE__*/_jsxDEV(Memberverifier, {\n            Ddata: [UID, setUID]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), VehicleDeReg(), /*#__PURE__*/_jsxDEV(Grid, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RemoveVehicle, \"Lt2uaulmKBeubp09BmKgQKmkafo=\", false, function () {\n  return [useStyles];\n});\n\n_c = RemoveVehicle;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemoveVehicle\");","map":{"version":3,"sources":["S:/Parking Management System/Parking-Management-System/frontend/react-frontend/src/Views/AdminViews/RemoveVehicle.js"],"names":["React","Typography","makeStyles","Grid","useState","isLoggedin","Button","Container","Box","axiosInstance","GoBack","Memberverifier","green","grey","Card","CardContent","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","useStyles","root","minWidth","bullet","display","margin","transform","title","fontSize","pos","marginBottom","RemoveVehicle","props","classes","UID","setUID","VecLst","SetLst","Vehicle_ID","Vehicle_Model","success","setsuccess","Vsuccess","setVsuccess","HandleDeRegVec","post","Member_ID","then","result","status","catch","error","GetListofVehicles","console","log","data","vehicles","L","DisplayCarItem","CAR","backgroundColor","DisplayListofVehicles","map","e","VehicleDeReg","width","window","location","href"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Typography} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useState } from 'react';\r\nimport isLoggedin from '../../Utils/LoginCheck'\r\nimport Button from '@material-ui/core/Button';\r\nimport Container from '@material-ui/core/Container';\r\nimport Box from '@material-ui/core/Box';\r\nimport axiosInstance from '../../Axios/AxiosInstance'\r\nimport GoBack from '../../Components/GoBack'\r\nimport Memberverifier from '../../Components/MemberVerifier'\r\nimport { green,grey} from '@material-ui/core/colors';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n      minWidth: 275,\r\n    },\r\n    bullet: {\r\n      display: 'inline-block',\r\n      margin: '0 2px',\r\n      transform: 'scale(0.8)',\r\n    },\r\n    title: {\r\n      fontSize: 14,\r\n    },\r\n    pos: {\r\n      marginBottom: 12,\r\n    },\r\n  });\r\n\r\n\r\nexport default function RemoveVehicle(props){\r\n    const classes = useStyles();\r\n    const [UID,setUID] = useState(-1);\r\n    const [VecLst,SetLst] = useState([{Vehicle_ID: \"non\",Vehicle_Model: \"non\"}]);\r\n    const [success,setsuccess] = useState(false);\r\n    const [Vsuccess,setVsuccess] = useState(0);\r\n    \r\n\r\n    \r\n    \r\n\r\n    //member/getvehiclesdetail/\r\n    //'member/deregistervehicle/'\r\n\r\n    function HandleDeRegVec(Vehicle_ID){\r\n        axiosInstance.post('member/deregistervehicle/',{\r\n            Vehicle_ID: Vehicle_ID,\r\n            Member_ID:UID\r\n        }).then(\r\n            result=>{\r\n                if(result.status === 200){\r\n                    setsuccess(true)\r\n                }\r\n            }\r\n        ).catch(error=>{\r\n            setsuccess(false)\r\n        })\r\n    }\r\n\r\n    function GetListofVehicles(){\r\n         axiosInstance.post('member/getvehiclesdetail/',{\r\n            Member_ID:UID\r\n        }).then(\r\n            result=>{\r\n                console.log(result.data.vehicles)    \r\n                setVsuccess(1)\r\n                let L = result.data\r\n                SetLst(L)\r\n                \r\n            }\r\n        ).catch(error=>{\r\n            //setVerror(error.response.data)\r\n            setVsuccess(2)\r\n        })\r\n    }\r\n\r\n\r\n    function DisplayCarItem(CAR){\r\n        return (\r\n            <Accordion >\r\n            <AccordionSummary   expandIcon={<ExpandMoreIcon />}   aria-controls=\"panel1a-content\"   id=\"panel1a-header\"   style={{backgroundColor:green[200]}}>\r\n                <Typography >{CAR.Vehicle_ID}</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails  style={{backgroundColor:green[50]}} >\r\n                <Grid container   direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n                \r\n                <Typography>\r\n                    {CAR.Vehicle_Model}\r\n                </Typography>\r\n                \r\n                <Button variant=\"contained\" color=\"secondary\" onClick={()=> HandleDeRegVec(CAR.Vehicle_ID)}>\r\n                    DeRegister\r\n                </Button>\r\n\r\n                \r\n                </Grid>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        )\r\n\r\n    }\r\n\r\n    function DisplayListofVehicles(){\r\n        if(success){\r\n            return (\r\n            <div>\r\n                <Typography variant=\"caption\" color=\"success\" >\r\n                    Vehicle removed succesfully\r\n                </Typography>    \r\n            </div>)\r\n        }\r\n        \r\n        if(Vsuccess === 1){\r\n            return (\r\n                <div>\r\n                \r\n                <Grid >\r\n                     {VecLst.map(e => \r\n                            <Grid>{DisplayCarItem(e)}</Grid>\r\n                     )}\r\n                </Grid>\r\n                \r\n                </div>)\r\n        }else if (Vsuccess === 2){\r\n            return (\r\n                <Typography variant=\"caption\" color=\"error\">\r\n                    Unable to get vehicle data\r\n                </Typography>\r\n            )}\r\n       }\r\n\r\n    function VehicleDeReg(){\r\n        if(UID !== -1){\r\n\r\n            return(\r\n            <div>\r\n                <Card style = {{width:1000,margin:5,backgroundColor:green[300]}} className={classes.root} variant=\"outlined\">\r\n                <CardContent>\r\n\r\n                    <Grid align=\"center\" >\r\n                        <Button style = {{width: 800 ,  margin:10 ,backgroundColor:green[800]}} variant=\"contained\"  onClick={()=>{GetListofVehicles()}}>\r\n                            GET LIST OF CARS\r\n                        </Button><br/>\r\n                        {DisplayListofVehicles()}\r\n                    </Grid>\r\n                 </CardContent>\r\n                </Card>\r\n            </div>    \r\n            )\r\n        }else{\r\n            return(null)\r\n        }\r\n    }\r\n\r\n\r\n    if(!(isLoggedin() === \"PA\")){\r\n        console.log(isLoggedin()) \r\n        window.location.href = \"/\"\r\n    }\r\n    else{\r\n        console.log(isLoggedin())\r\n    }\r\n    \r\n\r\n   \r\n    return(\r\n        <div>\r\n            <GoBack/>\r\n            <Container component=\"main\" maxWidth=\"lg\"> \r\n            <Box spacing={3} m={10}>\r\n\r\n            <Grid>\r\n                <Typography align=\"center\" variant='h2' color=\"primary\" style = {{width: 1000 ,  margin:0}} >\r\n                   De-Register Vehicle\r\n                </Typography>\r\n            </Grid>\r\n            <Grid>\r\n                <Memberverifier  Ddata={[UID,setUID]}/>\r\n            </Grid>\r\n                {VehicleDeReg()}\r\n            <Grid>\r\n            \r\n            </Grid>\r\n\r\n            </Box>\r\n            </Container>\r\n        </div>  \r\n    )\r\n   \r\n   \r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}